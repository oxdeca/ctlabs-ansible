---

# ------------------------------------------------------------------------------
# File        : ctlabs-ansible/roles/ctlabs_foreman/tasks/config.yml
# Description : configurations
# ------------------------------------------------------------------------------

- name: ctlabs_foreman.tasks.config.plugins
  command: |
    {{ foreman_installer }} --scenario foreman                \
    --enable-foreman-plugin-ansible                           \
    --enable-foreman-plugin-discovery                         \
    --enable-foreman-plugin-openscap                          \
    --enable-foreman-plugin-remote-execution                  \
    --enable-foreman-plugin-webhooks                          \
    --enable-foreman-plugin-netbox                            \
    --enable-foreman-plugin-leapp                             \
    --enable-foreman-proxy-plugin-openscap                    \
    --enable-foreman-proxy-plugin-remote-execution-script     \
    --enable-foreman-proxy-plugin-openscap-puppet-module true \
    --enable-foreman-cli-openscap
  register: output

- debug: "msg={{ output }}"

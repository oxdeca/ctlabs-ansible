---

# ------------------------------------------------------------------------------
# File        : ctlabs-ansible/roles/ctlabs_alloy/defaults/main.yml
# Description : description
# ------------------------------------------------------------------------------


ctlabs_alloy:
  defaults:
    repos:
      redhat:
        - name      : grafana
          desc      : grafana repo
          baseurl   : https://rpm.grafana.com
          gpgkey    : https://rpm.grafana.com/gpg.key
          sslcacert : /etc/pki/tls/certs/ca-bundle.crt
    pkgs:
      redhat:
        - name: alloy
    config:
      journald:
        dir  : /var/log/journal
        owner: root
        group: systemd-journal
        perms: 2750
      dir      : /etc/alloy
      file     : config.alloy
      template : config.alloy.j2
      loki_url : https://loki.ctlabs.internal:3100/loki/api/v1/push
      templates: []
    service:
      name  : alloy.service
      user  : alloy
      group : alloy
      groups: [certs]
  os:
    - redhat9
    - centos9

---

# ------------------------------------------------------------------------------
# File        : ctlabs_postfix/defaults/main.yml
# Description : defaults
# ------------------------------------------------------------------------------

ctlabs_postfix:
  defaults:
    pkgs:
      - name : postfix
      - name : "{{ 's-nail'       if ansible_distribution_major_version == '9' else 'mailx' }}" 
      - name : "{{ 'postfix-pcre' if ansible_distribution_major_version != '7' }}"
      - name : ruby
    config:
      dir     : /etc/postfix
      datadir : /var/email_archive
      postmap : /usr/sbin/postmap
      files :
        - name     : main.cf
          template : main.cf.j2
        - name     : master.cf
          template : master.cf.j2
      maps:
        - name     : virtual
          template : virtual.j2
        - name     : transport
          template : transport.j2
        - name     : recipient_bcc
          template : recipient_bcc.j2
        - name     : recipient_canonical
          template : recipient_canonical.j2
      template :
      user     : mail
      group    : syslog
    service:
      name      : postfix.service
      templates : postfix.service.j2
  os:
    - redhat7
    - redhat8
    - redhat9
    - centos7
    - centos8
    - centos9

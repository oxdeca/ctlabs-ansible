---

# ------------------------------------------------------------------------------
# File        : ctlabs-ansible/roles/ctlabs_netbox/tasks/service.yml
# Description : service
# ------------------------------------------------------------------------------

#- name: ctlabs_netbox.tasks.service.installed
#  systemd:
#    name    : "{{ ctlabs_netbox.defaults.service.name }}"
#    enabled : true
#    masked  : false
#    state   : started

- name: ctlabs_netbox.tasks.service.create
  template:
    src  : "{{ ctlabs_netbox.defaults.service.template }}"
    dest : "{{ systemd_dir + '/' + ctlabs_netbox.defaults.service.name }}"
  notify: ctlabs_netbox.handlers.systemd.restart

- name: ctlabs_netbox.tasks.service.start
  service:
    name  : "{{ ctlabs_netbox.defaults.service.name }}"
    state : started

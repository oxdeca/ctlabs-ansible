---

# ------------------------------------------------------------------------------
# File        : ctlabs-ansible/roles/ctlabs_netbox/defaults/main.yml
# Description : main defaults file
# ------------------------------------------------------------------------------

ctlabs_netbox:
  defaults:
    pkgs:
      debian:
        - name : python3-dev
        - name : build-essential
        - name : libxml2-dev
        - name : libxslt1-dev
        - name : libffi-dev
        - name : libpq-dev
        - name : libssl-dev
        - name : zlib1g-dev
      redhat:
        - name : gcc
        - name : libxml2-devel
        - name : libxslt-devel
        - name : libffi-devel
        - name : libpq-devel
        - name : openssl-devel
        - name : redhat-rpm-config
      nb:
        url    : https://github.com/netbox-community/netbox/archive/refs/tags/v3.7.6.tar.gz
        tmptar : /tmp/netbox.tar.gz
    service:
      name  : netbox.service
      user  : netbox
      group : netbox
    config:
      nb_rootdir : /opt
      nb_appdir  : /opt/netbox-3.7.6/netbox
      template   : configuration.py.j2
      file       : /opt/netbox/netbox/netbox/configuration.py
      db:
        name: netbox
        user: netbox
        pass: secret123!
        host: 192.168.50.3
        port: 5432
        cons: 25
      redis:
        host: 192.168.50.3
        port: 6379
      secret_key: "{{ lookup('ansible.builtin.password', '/dev/null', length=32) }}"

  os:
    - redhat8
    - redhat9
    - centos8
    - centos9
    - debian11

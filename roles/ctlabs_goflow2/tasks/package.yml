---

# ------------------------------------------------------------------------------
# File        : ctlabs-ansible/roles/ctlabs_goflow2/tasks/package.yml
# Description : packages
# ------------------------------------------------------------------------------

- name: ctlabs_goflow2.tasks.package.redhat.install
  when: ctg_os_family == 'redhat'
  dnf:
    name              : "{{ item.url if item.url is defined else item.name }}"
    disable_gpg_check : true
  loop    : "{{ ctlabs_goflow2.defaults.pkgs[ctg_os_family] }}"
  register: result
  until   : result is success
  delay   : 1
  retries : 5
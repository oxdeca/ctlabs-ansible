---

# ------------------------------------------------------------------------------
# File        : ctlabs-ansible/roles/ctlabs_openvpn/tasks/config.yml
# Description : configurations
# ------------------------------------------------------------------------------

- name: ctlabs_openvpn.tasks.config.server
  when: ansible_local.ctlabs_openvpn.type == "server"
  template:
    src  : "{{ ctlabs_openvpn.defaults.config.server.template }}"
    dest : "{{ ctlabs_openvpn.defaults.config.server.file     }}"
  notify: ctlabs_openvpn.handlers.server.service.reload

- name: ctlabs_openvpn.tasks.config.client
  when: ansible_local.ctlabs_openvpn.type == "client"
  template:
    src  : "{{ ctlabs_openvpn.defaults.config.client.template }}"
    dest : "{{ ctlabs_openvpn.defaults.config.client.file     }}"
  notify: ctlabs_openvpn.handlers.client.service.reload
